<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JAVA基础语法," />





  <link rel="alternate" href="/atom.xml" title="geekhoon" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="File类概述* java.io.File 
* 文件和目录路径名的抽象表示形式
* 将操作系统中文件,目录(文件夹),路径,封装成File对象
* 提供方法, 操作系统中的内容
* File是与系统无关的类">
<meta property="og:type" content="article">
<meta property="og:title" content="IO流">
<meta property="og:url" content="https://geekhoon.github.io/2017/02/20/16-IO流/index.html">
<meta property="og:site_name" content="geekhoon">
<meta property="og:description" content="File类概述* java.io.File 
* 文件和目录路径名的抽象表示形式
* 将操作系统中文件,目录(文件夹),路径,封装成File对象
* 提供方法, 操作系统中的内容
* File是与系统无关的类">
<meta property="og:updated_time" content="2017-03-28T13:17:02.342Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IO流">
<meta name="twitter:description" content="File类概述* java.io.File 
* 文件和目录路径名的抽象表示形式
* 将操作系统中文件,目录(文件夹),路径,封装成File对象
* 提供方法, 操作系统中的内容
* File是与系统无关的类">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 6313944065398277000,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="https://geekhoon.github.io/2017/02/20/16-IO流/"/>

  <title> IO流 | geekhoon </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?0e415640295b545ca0e400dbf0b42e7e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-right page-post-detail ">
    <div class="headband"></div>
   
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">geekhoon</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">怕, 你就输一辈子</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            留言
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                IO流
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-20T00:01:42+08:00" content="2017-02-20">
              2017-02-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JAVA基础/" itemprop="url" rel="index">
                    <span itemprop="name">JAVA基础</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/02/20/16-IO流/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/20/16-IO流/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          
             <span id="/2017/02/20/16-IO流/" class="leancloud_visitors" data-flag-title="IO流">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><pre><code>* java.io.File 
* 文件和目录路径名的抽象表示形式
* 将操作系统中文件,目录(文件夹),路径,封装成File对象
* 提供方法, 操作系统中的内容
* File是与系统无关的类
</code></pre><a id="more"></a> 
<pre><code>* 文件 file
* 目录 directory
* 路径 path
</code></pre><h4 id="成员变量"><a href="#成员变量" class="headerlink" title="成员变量"></a>成员变量</h4><pre><code>1. static String pathSeparator : 与系统有关的 路径分隔符
    Windows: 打印出来是一个分号
    Linux : 打印出来是一个冒号
2. static separator : 与系统有关的默认 名称分隔符
    Windows: 打印出来是一个 \
    Linux: 打印出来是一个 /
</code></pre><h4 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h4><pre><code>1. File(String pathname) : 传递路径名, 将路径封装成一个File类型对象
    路径名中\,要写两个,因为要转义
2. File(String parent,String child) : 传递路径, 传递字符串父路径, 字符串子路径
    好处: 可以单独操作父路径与子路径
3. File(File parent, String child) : 传递路径, 传递File类型父路径, 字符串子路径
    好处: 父路径是File类型, 父路径可以直接调用File类方法
</code></pre><h4 id="绝对路径与相对路径"><a href="#绝对路径与相对路径" class="headerlink" title="绝对路径与相对路径"></a>绝对路径与相对路径</h4><pre><code>* 绝对路径: 具体的一个文件路径, 在系统中具有唯一性
* 相对路径: 表示的是路径之间的相对关系, 
</code></pre><h4 id="File类的功能"><a href="#File类的功能" class="headerlink" title="File类的功能"></a>File类的功能</h4><h5 id="1-创建功能"><a href="#1-创建功能" class="headerlink" title="1.创建功能"></a>1.创建功能</h5><pre><code>1. 创建文件: boolean createNewFile(), 创建的文件路径和文件名, 是在File构造方法中给出的
    File file = new File(&quot;c:\\a.txt&quot;);
    boolean b = file.createNewFile();
    如果创建的文件已存在, 不再重新创建.
    这个方法只能创建文件, 不能创建文件夹
2. 创建文件夹: boolean mkdir(), 创建的文件夹路径和文件夹名, 是在File构造方法中给出的
    如果创建的文件夹已存在, 不再重新创建
3. 创建多层文件夹: boolean mkdirs()
    推荐使用, 因为创建一层和多层文件夹都可以
</code></pre><h5 id="2-删除功能"><a href="#2-删除功能" class="headerlink" title="2.删除功能"></a>2.删除功能</h5><pre><code>1. 删除文件或文件夹: boolean delete(), 删除的文件或文件夹, 是在File构造方法中给出
    文件不存在或被打开, 则删除失败
    删除文件可以直接删除,删除文件夹要确保该文件夹是空的
    删除,不走回收站,直接从硬盘删除(需谨慎)
</code></pre><h5 id="3-获取功能"><a href="#3-获取功能" class="headerlink" title="3.获取功能"></a>3.获取功能</h5><pre><code>1. 返回路径中表示的文件或文件夹名: String getName()
    获取路径中最后部分的名字, 不管存不存在
2. 返回路径字符串: String getPath()
3. 返回路径中表示的文件的字节数: long length()
    只能拿到文件的字节数, 文件夹没有字节数
4. 获取String类型绝对路径: String getAbsolutePath()
5. 获取File类型绝对路径: File getAbsoluteFile()
    eclipse环境中, 写的是一个相对路径, 获得的绝对位置是当前工程根目录
6. 获取String类型父路径: String getParent()
7. 获取File类型父路径: File getParentFile()
8. 获取到File构造方法中封装的路径中的文件和文件夹名: String[] list()
    获取的是文件名
9. 获取到File构造方法中封装的路径中的文件和文件夹名: File[] listFiles()
    获取的是目录或者文件的全路径
    8和9中如果要获得D盘根目录下的内容,要写成&quot;D:\\&quot;,如果只写成&quot;D:&quot;,获得是当前工程目录下的内容
10. 返回的是根目录盘符: static File[] listRoots()
</code></pre><h5 id="4-判断功能"><a href="#4-判断功能" class="headerlink" title="4.判断功能"></a>4.判断功能</h5><pre><code>1. 判断File构造方法中封装路径是否存在: boolean exists()
2. 判断File构造方法中封装的路径是不是文件夹 boolean isDirectorty()
3. 判断File构造方法中封装的路径是不是文件 boolean isFile()
4. 判断是否是隐藏的 boolean isHidden()
</code></pre><h4 id="文件过滤器"><a href="#文件过滤器" class="headerlink" title="文件过滤器"></a>文件过滤器</h4><pre><code>* 过滤一个目录下的指定扩展名的文件，或者包含某些关键字的文件夹
* 方法介绍
    * public File[] listFiles(FileFilter filter)
* 原理:
    * listFiles()遍历目录的同时，获取到了文件名全路径，
      调用过滤器的方法accept，将获取到的路径传递给accept方法的参数pathname
    * accept方法接收了参数pathname，参数是listFiles传递来的
    * 在accept方法中，进行判断，如果这个路径是Java文件，返回true，否则返回false
    * 一旦方法返回了true
    * listFiles将路径保存到File数组中
</code></pre><h4 id="遍历目录下的所有java文件"><a href="#遍历目录下的所有java文件" class="headerlink" title="遍历目录下的所有java文件"></a>遍历目录下的所有java文件</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">方式一: 自定义实现类,实现FileFilter接口,重写accep方法</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFilter</span> <span class="keyword">implements</span> <span class="title">FileFilter</span> </span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File pathname)</span> </span>&#123;</div><div class="line"><span class="comment">//注意这个if条件的重要性: </span></div><div class="line"><span class="comment">//判断当前过滤到的是否是文件夹, 如果是文件夹, 返回true,则继续遍历该文件夹</span></div><div class="line"><span class="comment">//如果不加这个if,所有不是以.java为结尾的文件夹也被过滤掉,进不去文件夹内部进行遍历了</span></div><div class="line">		<span class="keyword">if</span> (pathname.isDirectory()) &#123;</div><div class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> pathname.getName().toLowerCase().endsWith(<span class="string">".java"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		File file = <span class="keyword">new</span> File(<span class="string">"D:\\Demo"</span>);</div><div class="line">		getAllJava(file);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getAllJava</span><span class="params">(File file)</span></span>&#123;</div><div class="line">		File[] subFiles = file.listFiles(<span class="keyword">new</span> MyFilter());</div><div class="line">		<span class="keyword">for</span>(File subFile : subFiles)&#123;</div><div class="line">			<span class="keyword">if</span> (subFile.isDirectory()) &#123;</div><div class="line">				getAllJava(subFile);</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				System.out.println(subFile);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">方式二: 使用匿名内部类</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		File file = <span class="keyword">new</span> File(<span class="string">"D:\\Demo"</span>);</div><div class="line">		getAllJava(file);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getAllJava</span><span class="params">(File file)</span></span>&#123;</div><div class="line">		File[] subFiles = file.listFiles(<span class="keyword">new</span> FileFilter() &#123;</div><div class="line">			<span class="meta">@Override</span></div><div class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File pathname)</span> </span>&#123;</div><div class="line">				<span class="keyword">if</span> (pathname.isDirectory()) &#123;</div><div class="line">					<span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">				&#125;</div><div class="line">				<span class="keyword">return</span> pathname.getName().toLowerCase().endsWith(<span class="string">".java"</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;);</div><div class="line">		<span class="keyword">for</span>(File subFile : subFiles)&#123;</div><div class="line">			<span class="keyword">if</span> (subFile.isDirectory()) &#123;</div><div class="line">				getAllJava(subFile);</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				System.out.println(subFile);</div><div class="line">			&#125;</div><div class="line">		</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">方式三: 不使用文件过滤器, 自己写判断条件</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		File file = <span class="keyword">new</span> File(<span class="string">"D:\\Demo"</span>);</div><div class="line">		getAllJava(file);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getAllJava</span><span class="params">(File file)</span></span>&#123;</div><div class="line">		File[] subFiles = file.listFiles();</div><div class="line">		<span class="keyword">for</span> (File subFile : subFiles) &#123;</div><div class="line">			<span class="keyword">if</span> (subFile.isFile() &amp;&amp; subFile.getName().toLowerCase().endsWith(<span class="string">".java"</span>)) &#123;</div><div class="line">				System.out.println(subFile);</div><div class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span> (subFile.isDirectory()) &#123;</div><div class="line">				getAllJava(subFile);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><h4 id="递归遍历全目录"><a href="#递归遍历全目录" class="headerlink" title="递归遍历全目录"></a>递归遍历全目录</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	File file = <span class="keyword">new</span> File(<span class="string">"D:\\demo"</span>);</div><div class="line">	getAllName(file);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getAllName</span><span class="params">(File file)</span> </span>&#123;</div><div class="line">	<span class="comment">//打印当前文件名</span></div><div class="line">	<span class="comment">//System.out.println(file);</span></div><div class="line">	<span class="comment">//拿到file文件夹下所有内容</span></div><div class="line">	File[] subFiles = file.listFiles();</div><div class="line">	<span class="comment">//注意加上这步, 以免报错</span></div><div class="line">	<span class="keyword">if</span> (subFiles != <span class="keyword">null</span>) &#123;</div><div class="line">		<span class="comment">//遍历文件数组</span></div><div class="line">		<span class="keyword">for</span>(File subFile : subFiles)&#123;</div><div class="line">			<span class="comment">//如果是文件夹,继续递归调用getAllName</span></div><div class="line">			<span class="keyword">if</span> (subFile.isDirectory()) &#123;</div><div class="line">				getAllName(subFile);</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				<span class="comment">//如果是文件, 直接打印</span></div><div class="line">				System.out.println(subFile);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="概念和注意事项"><a href="#概念和注意事项" class="headerlink" title="概念和注意事项"></a>概念和注意事项</h4><pre><code>* 方法自己调用自己, 方法频繁进栈
* 递归分两种, 直接递归与间接递归
* 注意:
 1. 递归一定要有出口,必须可以让程序停下
 2. 递归次数不能过多
 3. 构造方法,禁止递归
</code></pre><h4 id="斐波那契数列"><a href="#斐波那契数列" class="headerlink" title="斐波那契数列"></a>斐波那契数列</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	System.out.println(getFBNQ(<span class="number">12</span>));</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getFBNQ</span><span class="params">(<span class="keyword">int</span> month)</span></span>&#123;</div><div class="line">	<span class="keyword">if</span> (month == <span class="number">1</span>) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (month == <span class="number">2</span>) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> getFBNQ(month-<span class="number">2</span>)+getFBNQ(month-<span class="number">1</span>);</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h3><pre><code>* 输入Input:  文件到程序
* 输出Output: 程序到文件
* 输入输出以Java程序为参照
</code></pre><h4 id="字节输出流"><a href="#字节输出流" class="headerlink" title="字节输出流"></a>字节输出流</h4><pre><code>* java.io.OutputStream 所有字节输出流的父类
* 是一个抽象类
* 作用: 从Java程序,写出文件
* 字节: 这样的流每次只操作文件中的一个字节
* 可以写任意文件, 注意不是文件夹
</code></pre><h5 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h5><pre><code>1. write(int b): 写入一个字节, int可以变成byte
2. write(byte[] b): 写入字节数组
3. write(byte[] b, int off, int len): 写入字节数组, off是开始写入的索引,len是写几个
4. void close(): 关闭流对象,释放与流相关的资源, 关闭之前会调用flush方法
注意: 流对象, 操作文件的时候, 自己不做, 依赖操作系统
</code></pre><h5 id="FileOutputStream类"><a href="#FileOutputStream类" class="headerlink" title="FileOutputStream类"></a>FileOutputStream类</h5><pre><code>* OutputStream实现类
* 写入数据文件
* 构造方法:绑定输出的输出目的, 可以创建文件, 如果文件已存在, 直接覆盖
    * 参数(输出目的): 
        1. File 封装文件
        2. String 字符串的文件名
* 流对象使用步骤:
    1. 创键流子类的对象, 绑定输出目的
    2. 调用流对象的方法write写
    3. close释放资源
* 文件的续写和换行
    1. 续写使用FileOutputStream类构造方法: 
        * FileOutputStream(File file, boolean append)
        * FileOutputStream(String file, boolean append)
        append置为true, 可以续写
    2. 换行
        * \r\n
        * 可以写在上一行的末尾, 或者下一行的开头
        * fos.write(&quot;\r\n&quot;.getBytes());
* IO流中的异常处理
    try..catch..finally
    * 细节:
        1. 保证流对象变量, 作用域足够
        2. catch里面
           * 处理异常(输出异常信息)
           * 停止程序, 重新尝试
        3. 如果流对象建立失败了, 即new对象时失败了, 没有占用系统资源
           * 释放资源时, 对流对象进行判断null
           * 变量不是null, 对象建立成功, 需要关闭资源
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	<span class="comment">//1. 创建流对象, 绑定输出的输出目的</span></div><div class="line">	FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"a.txt"</span>,<span class="keyword">true</span>);</div><div class="line">	<span class="comment">//2. 写入一个字节,会自动查ASCII表, 写入解码后的内容</span></div><div class="line">	fos.write(<span class="number">97</span>);<span class="comment">//这是一个字节</span></div><div class="line">	<span class="comment">//写入一个字节数组, 使用getBytes()后,查两次码表,第一次将字符串编码成对应的ASCII码</span></div><div class="line">	<span class="comment">//第二次是写入文件时, 将对应的ASCII码解码成对应的字符</span></div><div class="line">	<span class="keyword">byte</span>[] bytes = &#123;-<span class="number">65</span>,-<span class="number">66</span>,<span class="number">67</span>,<span class="number">68</span>&#125;;</div><div class="line">	fos.write(bytes); <span class="comment">//写入了一个汉字和CD, 两个负数代表一个汉字</span></div><div class="line">	fos.write(<span class="string">"\r\n"</span>.getBytes());<span class="comment">//插入换行</span></div><div class="line">	fos.write(bytes,<span class="number">2</span>,<span class="number">2</span>);<span class="comment">//写入字节数组的一部分, 写入了CD</span></div><div class="line">	<span class="comment">//写入字节数组的简便方式: 调用String类的getBytes()</span></div><div class="line">	fos.write(<span class="string">"www.geekhoon.com"</span>.getBytes());<span class="comment">//这是十六个字节 </span></div><div class="line">	foe.write(<span class="string">"你好"</span>.getBytes()); <span class="comment">//一个汉字是两个字节</span></div><div class="line">	<span class="comment">//3. 关闭流对象</span></div><div class="line">	fos.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//IO流中异常处理</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	<span class="comment">//声明变量</span></div><div class="line">	FileOutputStream fos = <span class="keyword">null</span>;</div><div class="line">	<span class="keyword">try</span>&#123;</div><div class="line">		<span class="comment">//创建对象</span></div><div class="line">		fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c:\\a.txt"</span>);</div><div class="line">		<span class="comment">//写入数据</span></div><div class="line">		fos.write(<span class="number">100</span>);</div><div class="line">	&#125;<span class="keyword">catch</span>(IOException ex)&#123;</div><div class="line">		<span class="comment">//打印异常信息</span></div><div class="line">		ex.printStackTrace();</div><div class="line">		<span class="comment">//如果是运行时异常,IOException处理不了,要抛异常</span></div><div class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"文件写入失败,请重试"</span>);</div><div class="line">	&#125;<span class="keyword">finally</span>&#123;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="comment">//判断对象是否创建成功</span></div><div class="line">			<span class="keyword">if</span> (fos != <span class="keyword">null</span>) &#123;</div><div class="line">				fos.close();</div><div class="line">			&#125;</div><div class="line">		&#125; <span class="keyword">catch</span> (IOException ex) &#123;</div><div class="line">		<span class="comment">//关闭流对象,添加try.catch的原因是,对象即使创建成功了,可能在写入过程中</span></div><div class="line">		<span class="comment">//突然将外界存储断开,则写入失败, 要抛运行异常</span></div><div class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"关闭资源失败"</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="字节输入流"><a href="#字节输入流" class="headerlink" title="字节输入流"></a>字节输入流</h4><pre><code>* java.io.InputStream 所有字节输入流的父类
* 是一个抽象类
* 作用: 读取任意文件, 每次只读取1个字节
</code></pre><h5 id="方法-1"><a href="#方法-1" class="headerlink" title="方法"></a>方法</h5><pre><code>1. int read(): 读取一个字节
2. int read(byte[] b): 读取一定量的字节,存储到数组中
</code></pre><h5 id="FileInputStream类"><a href="#FileInputStream类" class="headerlink" title="FileInputStream类"></a>FileInputStream类</h5><pre><code>* InputStream实现类
* 构造方法: 为这个流对象绑定数据源
    * 参数(数据源)
        1. File 封装文件
        2. String 字符串的文件名
* 步骤:
    1. 创建字节输入流的子类对象
    2. 调用read读取
    3. 关闭资源
* read()执行一次, 自动读取下一个字节,返回值返回的是读取到的字节
    当读取到文件结尾时, 返回值为 -1 
* 注意一个点:
    fis.read()读的是字节,为啥返回int类型: 因为读到结尾返回-1, -1是两个字节,
    一个字节接收不了,所以使用int接收, 自动补齐32位
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	<span class="comment">//创建InputStream的实现类对象</span></div><div class="line">	FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</div><div class="line">	<span class="comment">//定义len变量, 接收读到的字符</span></div><div class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">	<span class="comment">//循环调用读方法</span></div><div class="line">	<span class="keyword">while</span>((len = fis.read()) != -<span class="number">1</span>)&#123;</div><div class="line">		<span class="comment">//len直接打印,会查ASCII,将字符转成ASCII值进行打印,所以要进行强转</span></div><div class="line">		<span class="comment">//如果文件中是0,不强转,打印的是48</span></div><div class="line">		System.out.print((<span class="keyword">char</span>)len);</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//while循环的一种错误写法:</span></div><div class="line">	<span class="comment">/*</span></div><div class="line">	 * 错误原因是: 每次执行fis.read(),都会读取到下一个字符,两次fis.read()读到的内容不一样</div><div class="line">	 * 和迭代器的next()道理类似</div><div class="line">	 * while(fis.read() != -1)&#123;</div><div class="line">	 * 		System.out.print(fis.read());</div><div class="line">	 * &#125;</div><div class="line">	 */</div><div class="line">	<span class="comment">//关闭流对象</span></div><div class="line">	fis.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="字节输入流FileInputStream读取字节数组"><a href="#字节输入流FileInputStream读取字节数组" class="headerlink" title="字节输入流FileInputStream读取字节数组"></a>字节输入流FileInputStream读取字节数组</h5><pre><code>* 数组作用:　缓冲, 提高效率
* read返回的int, 表示什么含义: 读取到的有效字节数
* int read(byte[] b): 读取到字节数组
* int read(byte[] b, int off, int len): 读取到字节数组, off是开始读取的索引,len是读几个
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	<span class="comment">//创建字节输入流对象</span></div><div class="line">	FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</div><div class="line">	<span class="comment">//定义变量,接收read()返回值</span></div><div class="line">	<span class="keyword">int</span> len;</div><div class="line">	<span class="comment">//定义byte数组, 作为缓冲</span></div><div class="line">	<span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">2</span>];</div><div class="line">	<span class="comment">//循环读取, 判断条件使用的是int read(byte[] b),别忘传入b</span></div><div class="line">	<span class="keyword">while</span>((len = fis.read(b)) != -<span class="number">1</span>)&#123;</div><div class="line">		<span class="comment">//使用String类的构造方法 String(byte[] b), 字节数组转成字符串</span></div><div class="line">		System.out.print(<span class="keyword">new</span> String(b,<span class="number">0</span>,len));</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//关闭流对象</span></div><div class="line">	fis.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">将根目录下的a.txt的内容拷贝到b.txt中,考虑到可能复制的是大文件</div><div class="line">所以使用<span class="keyword">byte</span>数组,作为缓冲,提高效率</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	<span class="comment">//创建字节输入流对象</span></div><div class="line">	FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</div><div class="line">	<span class="comment">//创建字节输出流对象</span></div><div class="line">	FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"b.txt"</span>);</div><div class="line">	<span class="comment">//创建变量接收读的值</span></div><div class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">	<span class="comment">//创建byte数组,做缓冲, 作为参数传入read方法中</span></div><div class="line">	<span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">	<span class="comment">//循环读入a.txt中的内容,并写入b.txt</span></div><div class="line">	<span class="keyword">while</span>((len = fis.read(b)) != -<span class="number">1</span>)&#123;</div><div class="line">		fos.write(b,<span class="number">0</span>,len);</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//释放资源</span></div><div class="line">	fis.close();</div><div class="line">	fos.close();</div><div class="line">	System.out.println(<span class="string">"拷贝完毕!"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="字节流复制文件读取"><a href="#字节流复制文件读取" class="headerlink" title="字节流复制文件读取"></a>字节流复制文件读取</h4><pre><code>* 字节输入流, 绑定数据源
* 字节输出流, 绑定数据目的
* 抛运行异常的原因是让程序停止.抛编译异常的话,异常后面的代码还会执行
* 可用于图片加密: 添加异或, 因为一个数异或一个数两次,还等于本身,可用于加密,解密
* 如fos.write(len ^ 123)
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">读一个字节,写一个字节</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	<span class="comment">//定义两个流对象的变量</span></div><div class="line">	FileInputStream fis = <span class="keyword">null</span>;</div><div class="line">	FileOutputStream fos = <span class="keyword">null</span>;</div><div class="line">	<span class="keyword">try</span>&#123;</div><div class="line">		<span class="comment">//new两个对象</span></div><div class="line">		fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>); <span class="comment">//绑定数据源</span></div><div class="line">		fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c.txt"</span>); <span class="comment">//绑定数据目的</span></div><div class="line">		<span class="comment">//定义变量接收read()返回值</span></div><div class="line">		<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">		<span class="comment">//循环读取并写入</span></div><div class="line">		<span class="keyword">while</span>((len = fis.read()) != -<span class="number">1</span>)&#123;</div><div class="line">			fos.write((<span class="keyword">char</span>)len);</div><div class="line">		&#125;</div><div class="line">	&#125;<span class="keyword">catch</span>(IOException ex)&#123;</div><div class="line">		ex.printStackTrace();</div><div class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"文件复制失败"</span>);</div><div class="line">	&#125;<span class="keyword">finally</span>&#123;</div><div class="line">		<span class="keyword">try</span>&#123;</div><div class="line">			<span class="keyword">if</span> (fos != <span class="keyword">null</span>) &#123;</div><div class="line">				fos.close();</div><div class="line">			&#125;</div><div class="line">		&#125;<span class="keyword">catch</span>(IOException ex)&#123;</div><div class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"释放资源失败"</span>);</div><div class="line">		&#125;<span class="keyword">finally</span>&#123;</div><div class="line">			<span class="keyword">try</span>&#123;</div><div class="line">				<span class="keyword">if</span> (fis != <span class="keyword">null</span>) &#123;</div><div class="line">					fis.close();</div><div class="line">				&#125;</div><div class="line">			&#125;<span class="keyword">catch</span>(IOException ex)&#123;</div><div class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"释放资源失败"</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">采用数组缓冲,提高效率</div><div class="line">读字节数组, 写字节数组</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	<span class="comment">//定义两个流对象的变量</span></div><div class="line">	FileInputStream fis = <span class="keyword">null</span>;</div><div class="line">	FileOutputStream fos = <span class="keyword">null</span>;</div><div class="line">	<span class="keyword">try</span>&#123;</div><div class="line">		<span class="comment">//new两个对象</span></div><div class="line">		fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>); <span class="comment">//绑定数据源</span></div><div class="line">		fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"d.txt"</span>); <span class="comment">//绑定数据目的</span></div><div class="line">		<span class="comment">//定义变量接收read()返回值</span></div><div class="line">		<span class="keyword">int</span> len = <span class="number">0</span>; <span class="comment">//len为每次读取的有效字节个数</span></div><div class="line">		<span class="comment">//定义数组, 作为缓冲</span></div><div class="line">		<span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">		<span class="comment">//循环读取并写入, 读数组,写数组</span></div><div class="line">		<span class="keyword">while</span>((len = fis.read(bytes)) != -<span class="number">1</span>)&#123;</div><div class="line">			fos.write(bytes,<span class="number">0</span>,len);</div><div class="line">		&#125;</div><div class="line">	&#125;<span class="keyword">catch</span>(IOException ex)&#123;</div><div class="line">		ex.printStackTrace();</div><div class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"文件复制失败"</span>);</div><div class="line">	&#125;<span class="keyword">finally</span>&#123;</div><div class="line">		<span class="keyword">try</span>&#123;</div><div class="line">			<span class="keyword">if</span> (fos != <span class="keyword">null</span>) &#123;</div><div class="line">				fos.close();</div><div class="line">			&#125;</div><div class="line">		&#125;<span class="keyword">catch</span>(IOException ex)&#123;</div><div class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"释放资源失败"</span>);</div><div class="line">		&#125;<span class="keyword">finally</span>&#123;</div><div class="line">			<span class="keyword">try</span>&#123;</div><div class="line">				<span class="keyword">if</span> (fis != <span class="keyword">null</span>) &#123;</div><div class="line">					fis.close();</div><div class="line">				&#125;</div><div class="line">			&#125;<span class="keyword">catch</span>(IOException ex)&#123;</div><div class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"释放资源失败"</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	System.out.println(<span class="string">"复制结束"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h3><h4 id="字符输出流"><a href="#字符输出流" class="headerlink" title="字符输出流"></a>字符输出流</h4><pre><code>* java.io.Writer 所有字符输出流的父类
* 只能写文本文件,文本文件就是能用记事本打开看的懂的文件
</code></pre><h5 id="方法-2"><a href="#方法-2" class="headerlink" title="方法"></a>方法</h5><pre><code>1. write(int c): 写一个字符
2. write(char[] c): 写字符数组
3. write(char[] c, int off, int len): 字符数组一部分
4. write(String s): 写入字符串
</code></pre><h5 id="FileWriter类"><a href="#FileWriter类" class="headerlink" title="FileWriter类"></a>FileWriter类</h5><pre><code>* Writer的子类
* 构造方法: 
    绑定数据目的,注意是文件路径,不是文件夹路径,如果文件路径不存在,自动创建,存在则覆盖
    * File 类型对象
    * String 文件名
* 字符输出流写数据的时候, 必须要运行一个刷新功能flush()
* 建议write一次,flush一次, 最后close
</code></pre><h4 id="字符输入流"><a href="#字符输入流" class="headerlink" title="字符输入流"></a>字符输入流</h4><pre><code>* java.io.Reader 所有字符输入流的父类
* 只能读文本文件
* 不能读字符串
</code></pre><h5 id="方法-3"><a href="#方法-3" class="headerlink" title="方法"></a>方法</h5><pre><code>1. int read(): 读取一个字符
2. int read(char[] c): 读取一个字符数组
</code></pre><h5 id="FileReader类"><a href="#FileReader类" class="headerlink" title="FileReader类"></a>FileReader类</h5><pre><code>* Reader的子类
* 构造方法: 绑定数据源
    * File 类型对象
    * String 文件名
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">字符流完成文本文件复制</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">	<span class="comment">// 创建字符流对象</span></div><div class="line">	FileReader fr = <span class="keyword">null</span>;</div><div class="line">	FileWriter fw = <span class="keyword">null</span>;</div><div class="line">	<span class="keyword">try</span> &#123;</div><div class="line">		<span class="comment">// new字符流对象</span></div><div class="line">		fr = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>); <span class="comment">// 绑定数据源</span></div><div class="line">		fw = <span class="keyword">new</span> FileWriter(<span class="string">"e.txt"</span>); <span class="comment">// 绑定数据目的</span></div><div class="line">		<span class="comment">// 定义变量,接收read返回值</span></div><div class="line">		<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">		<span class="comment">// 定义字符数组,做缓冲</span></div><div class="line">		<span class="keyword">char</span>[] cBuff = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>]; <span class="comment">// 2KB</span></div><div class="line">		<span class="comment">// 循环读写</span></div><div class="line">		<span class="keyword">while</span> ((len = fr.read(cBuff)) != -<span class="number">1</span>) &#123;</div><div class="line">			fw.write(cBuff, <span class="number">0</span>, len);</div><div class="line">			<span class="comment">// 记住,写完要刷新</span></div><div class="line">			fw.flush();</div><div class="line">		&#125;</div><div class="line">	&#125; <span class="keyword">catch</span> (IOException ex) &#123;</div><div class="line">		ex.printStackTrace();</div><div class="line">		<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"复制失败"</span>);</div><div class="line">	&#125; <span class="keyword">finally</span> &#123;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="keyword">if</span> (fw != <span class="keyword">null</span>) &#123;</div><div class="line">				fw.close();</div><div class="line">			&#125;</div><div class="line">		&#125; <span class="keyword">catch</span> (IOException ex) &#123;</div><div class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"释放资源失败"</span>);</div><div class="line">		&#125; <span class="keyword">finally</span> &#123;</div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				<span class="keyword">if</span> (fr != <span class="keyword">null</span>) &#123;</div><div class="line">					fr.close();</div><div class="line">				&#125;</div><div class="line">			&#125; <span class="keyword">catch</span> (IOException ex) &#123;</div><div class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"释放资源失败"</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h3><h4 id="字符转字节的过程"><a href="#字符转字节的过程" class="headerlink" title="字符转字节的过程"></a>字符转字节的过程</h4><pre><code>* java.io.OutputStreamWriter 继承Writer类
* OutputStreamWriter的子类是FileWriter, 本质就是一个字符输出流, 操作字节输出流,写文本文件
* 字符流通向字节流的桥梁, 将字符流转成字节流
* 主要作用: 把java程序中写好的字符流转成可选的编码表对应的字节流, 然后通过字节输出流写入到文件中
* GBK中一个汉字2个字节, UTF-8中一个汉字3个字节
</code></pre><h5 id="构造方法-1"><a href="#构造方法-1" class="headerlink" title="构造方法"></a>构造方法</h5><pre><code>1. OutputStreamWriter(OutputStream out): 接收字节输出流
    字节输出流: FileOutpuStream
2. OutputStreamWriter(OutputStream out, String charsetName): 接收字节输出流,转成对应编码的字节流输出流,再写入到数据目的 
    charsetName : 编码表名(不区分大小写)  可写的: GBK, UTF-8
    使用GBK的话, 不用在参数中传递GBK, 因为默认GBK
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	getGBK();</div><div class="line">	getUTF8();</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getGBK</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	<span class="comment">//创建字节输出流</span></div><div class="line">	FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"D:\\gbk.txt"</span>);</div><div class="line">	<span class="comment">//创建转换流对象, 包装字节输出流</span></div><div class="line">	OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(fos, <span class="string">"GBK"</span>);</div><div class="line">	<span class="comment">//写</span></div><div class="line">	osw.write(<span class="string">"你好"</span>);</div><div class="line">	<span class="comment">//关</span></div><div class="line">	osw.close();<span class="comment">//关闭转换流对象,字节输出流对象也跟着关闭了</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getUTF8</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line"><span class="comment">//创建字节输出流, 如果绑定数据目的是"UTF-8.txt",在eclipse中打开,还会乱码</span></div><div class="line"><span class="comment">//因为即使用UTF-8写进UTF-8.txt,但eclipse默认使用的是GBK码表,还会将UTF-8转成GBK,不在eclipse中打开就行</span></div><div class="line">	FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"D:\\UTF-8.txt"</span>);</div><div class="line">	<span class="comment">//创建转换流对象</span></div><div class="line">	OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(fos, <span class="string">"UTF-8"</span>);</div><div class="line">	<span class="comment">//写</span></div><div class="line">	osw.write(<span class="string">"你好"</span>);</div><div class="line">	<span class="comment">//关</span></div><div class="line">	osw.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="字节转字符的过程"><a href="#字节转字符的过程" class="headerlink" title="字节转字符的过程"></a>字节转字符的过程</h4><pre><code>* java.io.InputStreamReader ,继承Reader
* InputStreamReader的子类是FileReader, 本质就是一个字符输入流, 操作字节
* 字节流通向字符流的桥梁, 将字节流转成字符流
* 读取的方法: read() : 读取一个字符,也可以读取一个字符数组
</code></pre><h5 id="构造方法-2"><a href="#构造方法-2" class="headerlink" title="构造方法"></a>构造方法</h5><pre><code>1. InputStreamReader(InputStream in)
2. InputStreamReader(InputStream in, String charsetName)
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	<span class="comment">//readGBK() ; //如果要读取一个GBK编码的文件,使用子类字符输入流FileReader或者字节输入流FileInputStream即可,无需指定编码表</span></div><div class="line">	readUTF8(); <span class="comment">//当需要读取一个UTF-8编码的文件时,需要使用转换流,指定转换后的字符流是UTF-8的格式</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readGBK</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	<span class="comment">//创建字节输入流</span></div><div class="line">	FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"D:\\gbk.txt"</span>);</div><div class="line">	<span class="comment">//创建转换流对象,包装字节输入流</span></div><div class="line">	InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(fis, <span class="string">"GBK"</span>);</div><div class="line">	<span class="comment">//创建char[], 作为缓冲</span></div><div class="line">	<span class="keyword">char</span>[] c = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</div><div class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>((len = isr.read(c)) != -<span class="number">1</span>)&#123;</div><div class="line">		System.out.println(<span class="keyword">new</span> String(c,<span class="number">0</span>,len));</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//关闭流对象</span></div><div class="line">	isr.close();</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readUTF8</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	<span class="comment">//创建字节输入流</span></div><div class="line">	FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"D:\\UTF-8.txt"</span>);</div><div class="line">	<span class="comment">//创建转换流对象,包装字节输入流</span></div><div class="line">	InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(fis, <span class="string">"UTF-8"</span>);</div><div class="line">	<span class="comment">//创建char[], 作为缓冲</span></div><div class="line">	<span class="keyword">char</span>[] c = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</div><div class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>((len = isr.read(c)) != -<span class="number">1</span>)&#123;</div><div class="line">		System.out.println(<span class="keyword">new</span> String(c,<span class="number">0</span>,len));</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//关闭流对象</span></div><div class="line">	isr.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="转换流和子类区别"><a href="#转换流和子类区别" class="headerlink" title="转换流和子类区别"></a>转换流和子类区别</h4><pre><code>* 继承关系
    OutputStreamWriter
        |--FileWriter
    InputStreamReader
        |--FileReader
* 区别:
    * 当操作的字符文件，使用的是默认编码表时可以不用父类，而直接用子类就完成操作了，简化了代码。
    * 以下三句话功能相同
    1. InputStreamReader isr = new InputStreamReader(new FileInputStream(&quot;a.txt&quot;));//默认字符集。
    2. InputStreamReader isr = new InputStreamReader(new FileInputStream(&quot;a.txt&quot;),&quot;GBK&quot;);//指定GBK字符集。
    3. FileReader fr = new FileReader(&quot;a.txt&quot;);
* 使用场景:
    1. 向数据目的中写入UTF-8格式的内容时, 需要用到OutputStreamWriter(OutputStream,&quot;UTF-8&quot;)
    2. 从数据源中读取UTF-8格式的内容时, 需要用到InputStreamReader(InputStream,&quot;UTF-8&quot;)
* 应用:
    1. 向一个文件中写入GBK格式的内容,读这个GBK格式的文件,生成内容与GBK格式相同的UTF-8格式的文件
        步骤:
        1. 写入GBK格式的内容:
            * FileWriter fw = new FileWriter(&quot;d:\\a.txt&quot;);
            * 或OuputStreamWriter osw = new OuputStreamWriter(new FileOutputStream(&quot;d:\\a.txt&quot;),&quot;GBK&quot;);
            * 或OuputStreamWriter osw = new OuputStreamWriter(new FileOutputStream(&quot;d:\\a.txt&quot;));
        2. 读GBK格式的内容:
            * FileReader fr = new FileReader(&quot;d:\\a.txt&quot;);
            * 或InputStreamReader isr = new InputStreamReader(new FileInputStream(&quot;d:\\a.txt&quot;),&quot;GBK&quot;);
            * 或InputStreamReader isr = new InputStreamReader(new FileInputStream(&quot;d:\\a.txt&quot;));
        3. 写入UTF-8格式:
            * OuputStreamWriter osw = new OuputStreamWriter(new FileOutputStream(&quot;d:\\b.txt&quot;),&quot;UTF-8&quot;);
    * 记住一句话: 什么格式的内容, 就是什么格式来读, 要写入什么格式, 就用什么格式来写
</code></pre><h3 id="缓冲流"><a href="#缓冲流" class="headerlink" title="缓冲流"></a>缓冲流</h3><pre><code>* 提高IO流读写速度
* 分为字节缓冲流和字符缓冲流
* 装饰设计模式
</code></pre><h4 id="字节缓冲流"><a href="#字节缓冲流" class="headerlink" title="字节缓冲流"></a>字节缓冲流</h4><pre><code>1. 字节输出缓冲流
    * java.io.BufferedOutputStream
    * 继承自OutputStream
    * 作用: 提高原有输出流的写入效率
    * 方法: write() 字节或字节数组
    * 先写入底层输出缓冲流,一定量后,再一起写入
    * 构造方法: 
        1. BufferedOutputStream(OutputStream out) :
        可以传递任意的字节输出流, 传递的是哪个字节流,就对哪个字节流提高效率
2. 字节输入缓冲流
    * java.io.BufferedInputStream
    * 继承自InputStream
    * 方法: read() 字节或字节数组
    * 构造方法:
        1. BufferedInputStream(InputtStream out)
        可以传递任意的字节输入流, 传递的是哪个字节流,就对哪个字节流提高效率
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">字节输出缓冲流</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedOutputStreamDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">		<span class="comment">//创建字节输出流,绑定文件</span></div><div class="line">		<span class="comment">//FileOutputStream fos = new FileOutputStream("c:\\buffer.txt");</span></div><div class="line">		<span class="comment">//创建字节输出流缓冲流的对象,构造方法中,传递字节输出流</span></div><div class="line">		BufferedOutputStream bos = <span class="keyword">new</span></div><div class="line">				BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"c:\\buffer.txt"</span>));</div><div class="line">		</div><div class="line">		bos.write(<span class="number">55</span>);</div><div class="line">		</div><div class="line">		<span class="keyword">byte</span>[] bytes = <span class="string">"HelloWorld"</span>.getBytes();</div><div class="line">		</div><div class="line">		bos.write(bytes);</div><div class="line">		</div><div class="line">		bos.write(bytes, <span class="number">3</span>, <span class="number">2</span>);</div><div class="line">		</div><div class="line">		bos.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">字节输入缓冲流</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedInputStreamDemo</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">		<span class="comment">//创建字节输入流的缓冲流对象,构造方法中包装字节输入流,包装文件</span></div><div class="line">		BufferedInputStream bis = <span class="keyword">new</span> </div><div class="line">				BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"c:\\buffer.txt"</span>));</div><div class="line">		<span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">10</span>];</div><div class="line">		<span class="keyword">int</span> len = <span class="number">0</span> ;</div><div class="line">		<span class="keyword">while</span>((len = bis.read(bytes))!=-<span class="number">1</span>)&#123;</div><div class="line">			System.out.print(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,len));</div><div class="line">		&#125;</div><div class="line">		bis.close();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="四种文件复制效率分析"><a href="#四种文件复制效率分析" class="headerlink" title="四种文件复制效率分析"></a>四种文件复制效率分析</h4><pre><code>* 推荐使用第二种和第四种
</code></pre><h5 id="字节流读写单个字节"><a href="#字节流读写单个字节" class="headerlink" title="字节流读写单个字节"></a>字节流读写单个字节</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copy_1</span><span class="params">(File src,File desc)</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	FileInputStream fis = <span class="keyword">new</span> FileInputStream(src);</div><div class="line">	FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(desc);</div><div class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>((len = fis.read()) != -<span class="number">1</span>)&#123;</div><div class="line">		fos.write(len);</div><div class="line">	&#125;</div><div class="line">	fos.close();</div><div class="line">	fis.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="字节流读写字节数组"><a href="#字节流读写字节数组" class="headerlink" title="字节流读写字节数组"></a>字节流读写字节数组</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copy_2</span><span class="params">(File src,File desc)</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	FileInputStream fis = <span class="keyword">new</span> FileInputStream(src);</div><div class="line">	FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(desc);</div><div class="line">	<span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>((len = fis.read(b)) != -<span class="number">1</span>)&#123;</div><div class="line">		fos.write(b, <span class="number">0</span>, len);</div><div class="line">	&#125;</div><div class="line">	fos.close();</div><div class="line">	fis.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="字节流缓冲区流读写单个字节"><a href="#字节流缓冲区流读写单个字节" class="headerlink" title="字节流缓冲区流读写单个字节"></a>字节流缓冲区流读写单个字节</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copy_3</span><span class="params">(File src,File desc)</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(src));</div><div class="line">	BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(desc));</div><div class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">	<span class="keyword">while</span>((len = bis.read()) != -<span class="number">1</span>)&#123;</div><div class="line">		bos.write(len);</div><div class="line">	&#125;</div><div class="line">	bos.close();</div><div class="line">	bis.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="字节流缓冲区流读写字节数组"><a href="#字节流缓冲区流读写字节数组" class="headerlink" title="字节流缓冲区流读写字节数组"></a>字节流缓冲区流读写字节数组</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copy_4</span><span class="params">(File src,File desc)</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(src));</div><div class="line">	BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(desc));</div><div class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</div><div class="line">	<span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</div><div class="line">	<span class="keyword">while</span>((len = bis.read(b)) != -<span class="number">1</span>)&#123;</div><div class="line">		bos.write(b,<span class="number">0</span>,len);</div><div class="line">	&#125;</div><div class="line">	bos.close();</div><div class="line">	bis.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="字符缓冲流"><a href="#字符缓冲流" class="headerlink" title="字符缓冲流"></a>字符缓冲流</h4><pre><code>1. 字符输出缓冲流
    * BufferedWriter, 继承自Writer
    * 方法: write() : 单个字符, 字符数组, 字符串
    * 构造方法:
        1. BufferedWriter(Writer w): 传递任意字符输出流
        传递谁,就高效谁
        能传递的字符输出流: FileWriter,OutputStreamWriter
    * BufferedWriter特有方法: newLine(): 实现换行,功能与\r\n一样,区别是这个方法可以跨平台
2. 字符缓冲输入流
    * BufferedReader, 继承自Reader
    * 有一个子类LineNumberReader, 可以读行号
    * 方法: read() 单个字符, 字符数组
    * 特有方法: String readLine(): 可以读取文本的一行, 返回值是String,读取到末尾,返回null
    * 构造方法:
        1.  BufferedReader(Reader r)
        能传递的字符输入流: FileReader,InputStreamReader
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">字符输出缓冲流</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	<span class="comment">//创建字符输出流</span></div><div class="line">	FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"D:\\a.txt"</span>);</div><div class="line">	<span class="comment">//创建字符输出缓冲流, 传入字符输出流,包装数据目的</span></div><div class="line">	BufferedWriter bfw = <span class="keyword">new</span> BufferedWriter(fw);</div><div class="line">	</div><div class="line">	bfw.write(<span class="number">97</span>);</div><div class="line">	bfw.newLine();</div><div class="line">	bfw.flush();</div><div class="line">	</div><div class="line">	bfw.write(<span class="string">"你好"</span>.toCharArray());</div><div class="line">	nfw.newLine();</div><div class="line">	bfw.flush();</div><div class="line">	</div><div class="line">	bfw.write(<span class="string">"大家好"</span>);</div><div class="line">	bfw.flush();</div><div class="line">	</div><div class="line">	bfw.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">字符输入缓冲流</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	<span class="comment">//定义计数变量作为行号</span></div><div class="line">	<span class="keyword">int</span> lineNumber = <span class="number">0</span>;</div><div class="line">	<span class="comment">//创建字符输入流</span></div><div class="line">	FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"D:\\a.txt"</span>);</div><div class="line">	<span class="comment">//创建字符输入缓冲流,传递字符输入流,包装数据源</span></div><div class="line">	BufferedReader bfr = <span class="keyword">new</span> BufferedReader(fr);</div><div class="line">	<span class="comment">//定义String类型变量, 接收readLine()返回值</span></div><div class="line">	String line = <span class="keyword">null</span>;</div><div class="line">	<span class="comment">//循环读取</span></div><div class="line">	<span class="keyword">while</span>((line = bfr.readLine()) != <span class="keyword">null</span>)&#123;</div><div class="line">		lineNumber++;</div><div class="line">		System.out.println(lineNumber+<span class="string">"  "</span>+line);</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//关闭缓冲流对象</span></div><div class="line">	bfr.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="使用字符缓冲流对象-复制文本文件"><a href="#使用字符缓冲流对象-复制文本文件" class="headerlink" title="使用字符缓冲流对象,复制文本文件"></a>使用字符缓冲流对象,复制文本文件</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">注意: </div><div class="line"><span class="number">1</span>.生成的b.txt会比a.txt大两个字节,因为写入最后一行后,又nextLine()了</div><div class="line"><span class="number">2</span>.注意这种读写方式,读一行,写一行,加一个换行,加一个刷新</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	<span class="comment">//创建字符输入缓冲流对象</span></div><div class="line">	BufferedReader bfr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"D:\\a.txt"</span>));</div><div class="line">	<span class="comment">//创建字符输出缓冲流对象</span></div><div class="line">	BufferedWriter bfw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"D:\\b.txt"</span>));</div><div class="line">	<span class="comment">//创建String类型变量接收readLine()返回值</span></div><div class="line">	String line = <span class="keyword">null</span>;</div><div class="line">	<span class="comment">//循环读, 读一行, 写一行, 加一个换行</span></div><div class="line">	<span class="keyword">while</span>((line = bfr.readLine()) != <span class="keyword">null</span>)&#123;</div><div class="line">		bfw.write(line);</div><div class="line">		bfw.newLine();</div><div class="line">		<span class="comment">//刷新</span></div><div class="line">		bfw.flush();</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//关闭流对象</span></div><div class="line">	bfw.close();</div><div class="line">	bfr.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="IO流对象的操作规律"><a href="#IO流对象的操作规律" class="headerlink" title="IO流对象的操作规律"></a>IO流对象的操作规律</h3><h4 id="IO流相关类继承关系"><a href="#IO流相关类继承关系" class="headerlink" title="IO流相关类继承关系"></a>IO流相关类继承关系</h4><pre><code>1. 字节流抽象父类:
        输入流:
            InputStream:
                |-- FileInputStream(字节输入流的子类)
                         |- read(int len) : 读取单个字节
                         |- read(byte[] b): 读取字节数组
                |-- BufferedInputStream(InputStream in)
        输出流:
            OutputStream:
                |-- FileOutputStream(字节输出流的子类)
                         |- write(int len) : 写出单个字节
                         |- write(byte[] b): 写出字节数组
                         |- write(byte[] b,int off,int len): 写出字节数组的一部分
                |-- BufferedOutputStream(OutputStream ou)
2. 字符流抽象父类
        输入流:
            Reader:
                |-- InputStreamReader(将字节转成字符)
                         |-- FileReader(字符输入流的子类)
                                |- read(char c) : 读取单个字符
                                |- read(char[] ch): 读取字符数组
                |-- BufferedReader(Reader r)
                         |- readLine() : 读取一整行
        输出流:  
            Writer:
                |-- OutputStreamWriter(将字符转成字节)
                         |-- FileWriter(字符输出流的子类)
                                |- write(char c) : 写出单个字符
                                |- write(char[] ch): 写出字符数组
                                |- write(String str): 写出字符串
                |-- BufferedWriter(Writer w)
                         |- newLine() : 写出一个换行
        对象操作流：
                |-- ObjectInputStream(对象输入流)
                         |- readObject();        对象必须实现序列化接口

                |-- ObjectOutputStream(对象输出流)
                            |- writeObject(Object obj)   
        打印流：
                PrintWriter:（流对象,boolean b）  如果是true、自动刷新
                    1.可以自动刷新
                    2.只能输出
                    3.println()(原样输出、并且自带换行)   print()   printf()
</code></pre><h4 id="操作规律"><a href="#操作规律" class="headerlink" title="操作规律"></a>操作规律</h4><pre><code>1. 如果操作的是纯文本文件, 直接使用带缓冲的字符流即可! 读一行,写一行
2. 如果操作的是所有文件,直接使用待缓冲的字节流即可! 带上小数组
3. 如果需要编码转换, 直接使用转换流即可!
</code></pre><h3 id="Properties集合类"><a href="#Properties集合类" class="headerlink" title="Properties集合类"></a>Properties集合类</h3><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><pre><code>* HashTable的子类, 实现Map接口
* 集合都是临时存储, 但Properties可以与IO对象结合使用,实现持久化存储
* 没有泛型(不能写泛型), 键值对都是字符串
</code></pre><h4 id="存储键值对"><a href="#存储键值对" class="headerlink" title="存储键值对"></a>存储键值对</h4><pre><code>* 特有方法:
    1. setProperty(String key, String value): 功能等同于Map中的put
    2. getProperty(String key): 通过键获取值, 功能等同于Map中的get(index)
    3. StringPropertyNames(): 将集合的键存储到Set集合, 类似与keySet
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Properties pro = <span class="keyword">new</span> Properties();</div><div class="line">pro.setProperty(<span class="string">"a"</span>, <span class="string">"1"</span>);</div><div class="line">pro.setProperty(<span class="string">"b"</span>, <span class="string">"2"</span>);</div><div class="line">pro.setProperty(<span class="string">"c"</span>, <span class="string">"3"</span>);	</div><div class="line">System.out.println(pro.getProperty(<span class="string">"a"</span>)); <span class="comment">//1</span></div><div class="line">System.out.println(pro.getProperty(<span class="string">"b"</span>)); <span class="comment">//2</span></div><div class="line">System.out.println(pro.getProperty(<span class="string">"c"</span>)); <span class="comment">//3</span></div><div class="line">System.out.println(pro.getProperty(<span class="string">"d"</span>)); <span class="comment">//null</span></div><div class="line"><span class="comment">//遍历</span></div><div class="line">Set&lt;String&gt; keySet = pro.stringPropertyNames();</div><div class="line"><span class="keyword">for</span> (String key : keySet) &#123;</div><div class="line">	System.out.println(key+<span class="string">"..."</span>+pro.getProperty(key));<span class="comment">//存取无序</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="特有方法"><a href="#特有方法" class="headerlink" title="特有方法"></a>特有方法</h4><h5 id="load"><a href="#load" class="headerlink" title="load"></a>load</h5><pre><code>1. load(InputStream in)
2. load(Reader r)
* 传递任意的字节或字符输入流
* 作用: 读取文件中的键值对到集合
* Properties并不是只能读.properties配置文件,.txt等文本也可以读,只是通常而已
* .properties代表键值对格式存储的文件
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">注意config.properties中写键值的时候,键和值后不要加空格或分号,否则就成为键或值的一部分了</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">function_2</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	Properties pro = <span class="keyword">new</span> Properties();</div><div class="line">	FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"config.properties"</span>);</div><div class="line">	pro.load(fr);</div><div class="line">	fr.close();</div><div class="line">	System.out.println(pro);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="store"><a href="#store" class="headerlink" title="store"></a>store</h5><pre><code>1. store(OutputStream o, String comments)
2. store(Writer w, String comments)
* 接收所有的字节或字符输出流
* 作用: 将集合中的键值对写到文件
* String类型的comments写的是: 写回文件的原因,可以写&quot;&quot;,或者英文形式,如&quot;abc&quot;
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">function_3</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	Properties pro = <span class="keyword">new</span> Properties();</div><div class="line">	pro.setProperty(<span class="string">"name"</span>, <span class="string">"geekhoon"</span>);</div><div class="line">	pro.setProperty(<span class="string">"age"</span>, <span class="string">"11"</span>);</div><div class="line">	pro.setProperty(<span class="string">"blog"</span>, <span class="string">"www.geekhoon.com"</span>);</div><div class="line">	FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"config.properties"</span>);</div><div class="line">	pro.store(fw, <span class="string">"just a test"</span>);<span class="comment">//后面写原因,可以写""</span></div><div class="line">	fw.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="对象操作流"><a href="#对象操作流" class="headerlink" title="对象操作流"></a>对象操作流</h3><h4 id="对象的序列化与反序列化"><a href="#对象的序列化与反序列化" class="headerlink" title="对象的序列化与反序列化"></a>对象的序列化与反序列化</h4><pre><code>* 序列化: 对象中的数据,以流的形式,写入到文件中保存
* 反序列化: 在文件中,以流的形式,将对象读取出来
</code></pre><h4 id="ObjectOutputStream流写对象"><a href="#ObjectOutputStream流写对象" class="headerlink" title="ObjectOutputStream流写对象"></a>ObjectOutputStream流写对象</h4><pre><code>* 将对象数据写到文件中, 实现序列化
* 构造方法:
    * ObjectOutputStream(OutputStream out),传递任意的字节输出流
* 方法:
    * void writeObject(Object obj): 写出对象的方法
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">对象类,要实现Serializable接口</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> String name;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</div><div class="line">	构造方法;</div><div class="line">	get/set;</div><div class="line">	toString();</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line">	<span class="comment">//创建字节输出流,封装文件</span></div><div class="line">	FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"d:\\person.txt"</span>);</div><div class="line">	<span class="comment">//创建序列化流的对象,构造方法传递字节输出流</span></div><div class="line">	ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(fos);</div><div class="line">	Person p = <span class="keyword">new</span> Person(<span class="string">"张三"</span>,<span class="number">11</span>);</div><div class="line">	<span class="comment">//调用序列化流的方法writeObject,写出对象</span></div><div class="line">	oos.writeObject(p);</div><div class="line">	oos.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="ObjectInputStream流读取对象"><a href="#ObjectInputStream流读取对象" class="headerlink" title="ObjectInputStream流读取对象"></a>ObjectInputStream流读取对象</h4><pre><code>* 从文件中读取对象数据, 实现反序列化
* 构造方法:
    * ObjectInputStream(InputStream in), 传递任意的字节输入流
    * 注意: 字节输入流封装的文件,必须是序列化的文件
* 方法:
    * Object readObject(): 读取对象
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">readObject</span><span class="params">()</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</div><div class="line">	FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"d:\\person.txt"</span>);</div><div class="line">	<span class="comment">//创建反序列化流的对象,构造方法传递字节输入流</span></div><div class="line">	ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(fis);</div><div class="line">	<span class="comment">//调用反序列化的方法readObject(),读取对象</span></div><div class="line">	Object obj = ois.readObject();<span class="comment">//readObject()要抛ClassNotFoundException这个异常</span></div><div class="line">	System.out.println(obj); <span class="comment">//打印Person [name=张三, age=11]</span></div><div class="line">	ois.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="静态不能序列化"><a href="#静态不能序列化" class="headerlink" title="静态不能序列化"></a>静态不能序列化</h4><pre><code>* 被static修饰的成员变量,属于类
* 非静态成员变量才属于对象
* 对象序列化和反序列化操作的是对象, 静态变量不能序列化
* 如: private static int age;
    * readObject()打印的结果就是Person [name=张三, age=0]
</code></pre><h4 id="transient关键字"><a href="#transient关键字" class="headerlink" title="transient关键字"></a>transient关键字</h4><pre><code>* 不能写成静态变量, 也不想被序列化, 需要使用transient关键字
* 作用: 阻止成员变量序列化
* 如:　private transient int age;
    * readObject()打印的结果就是Person [name=张三, age=0]
</code></pre><h4 id="Serializable接口的含义"><a href="#Serializable接口的含义" class="headerlink" title="Serializable接口的含义"></a>Serializable接口的含义</h4><pre><code>* 接口中并没有方法
* 这种接口称为标记接口
* 实现标记接口的实现类, 才可以序列化
</code></pre><h4 id="序列化中的序列号冲突问题"><a href="#序列化中的序列号冲突问题" class="headerlink" title="序列化中的序列号冲突问题"></a>序列化中的序列号冲突问题</h4><pre><code>* 序列化之后,还没进行反序列化,去把person类的内容进行了修改,再进行反序列化,会报错
</code></pre><h4 id="序列化中自定义的序列号"><a href="#序列化中自定义的序列号" class="headerlink" title="序列化中自定义的序列号"></a>序列化中自定义的序列号</h4><pre><code>*　(权限) static　final long serialVersionUID = 1L;
*　权限和值可以改,序列化之前可以改
* 类,自定义了序列号,编译器不会计算序列号
</code></pre><h3 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h3><h4 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h4><pre><code>* PrintStream类
* PrintWriter类
* 特点: 
    1. 此流不负责数据源, 只负责数据目的
    2. 为其他输出流, 添加功能
    3. 永远不会抛出IOException, 但是可能抛出其他异常 
* 两个打印流的方法完全一致
* 区别在于构造方法,就是打印流的输出目的端
    1. PrintStream: 构造方法,接收File对象,字节输出流OutputStream,字符串文件名
    2. PrintWriter: 构造方法,接收File对象,字节输出流OutputStream,字符串文件名, 字符输出流Writer
</code></pre><h4 id="打印流输出目的是File对象"><a href="#打印流输出目的是File对象" class="headerlink" title="打印流输出目的是File对象"></a>打印流输出目的是File对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">File file = <span class="keyword">new</span> File(<span class="string">"d:\\a.txt"</span>);<span class="comment">//a.txt原来不存在的话,也可以被自动创建,但是在读的时候不可以</span></div><div class="line">PrintWriter pw = <span class="keyword">new</span> PrintWriter(file);</div><div class="line">pw.println(<span class="number">100</span>);<span class="comment">//文件中打印出的的是100, 原样输出</span></div><div class="line">pw.write(<span class="number">100</span>);<span class="comment">//文件中打印的出的是d,会查码表</span></div><div class="line">pw.flush();</div><div class="line">pw.close();</div></pre></td></tr></table></figure>
<h4 id="输出语句是char数组"><a href="#输出语句是char数组" class="headerlink" title="输出语句是char数组"></a>输出语句是char数组</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">字符串的本质是<span class="keyword">char</span>[], String str = <span class="string">"abc"</span>;等同于<span class="keyword">char</span>[] arr = &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>&#125;;</div><div class="line"><span class="keyword">char</span>[] arr = &#123;<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>&#125;;</div><div class="line">System.out.println(arr); <span class="comment">//打印的是abc, 而不是地址值</span></div></pre></td></tr></table></figure>
<h4 id="打印流输出目的是String文件名和流对象"><a href="#打印流输出目的是String文件名和流对象" class="headerlink" title="打印流输出目的是String文件名和流对象"></a>打印流输出目的是String文件名和流对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">打印流,输出目的是字符串文件名</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">function_1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException</span>&#123;</div><div class="line">	PrintWriter pw = <span class="keyword">new</span> PrintWriter(<span class="string">"d:\\1.txt"</span>);<span class="comment">//文件可以自己创建</span></div><div class="line">	pw.println(<span class="string">"你好"</span>);</div><div class="line">	pw.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">打印流,输出目的是流对象</div><div class="line">可以是字节输出流OutputStream, 也可以是字符输出流<span class="function">Writer</span></div><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">function_2</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</div><div class="line">	<span class="comment">//FileOutputStream fos = new FileOutputStream("d:\\3.txt");//文件可以自己创建</span></div><div class="line">	FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"d:\\4.txt"</span>);<span class="comment">//文件可以自己创建</span></div><div class="line">	PrintWriter pw = <span class="keyword">new</span> PrintWriter(fw);</div><div class="line">	pw.print(<span class="string">"abc"</span>);</div><div class="line">	pw.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="打印流开启自动刷新"><a href="#打印流开启自动刷新" class="headerlink" title="打印流开启自动刷新"></a>打印流开启自动刷新</h4><pre><code>* 需要满足两个条件:
    1. 输出目的必须是流对象,OutputStream或Writer, 不可以是String类型文件名或File对象
    2. 必须调用println,printf,format方法中的一个
    3. PrintWriter(流对象,true);参数中要加上true
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"d:\\5.txt"</span>);</div><div class="line">PrintWriter pw = <span class="keyword">new</span> PrintWriter(fos,<span class="keyword">true</span>);<span class="comment">//添加参数true, 可以实现自动刷新</span></div><div class="line">pw.println(<span class="string">"a"</span>);</div><div class="line">pw.println(<span class="string">"b"</span>);</div><div class="line">pw.println(<span class="string">"c"</span>);</div><div class="line"><span class="comment">//不需要刷新,现在运行,也可以在文件中打印abc</span></div><div class="line"><span class="comment">//但流对象还是要关闭</span></div><div class="line">pw.close();</div></pre></td></tr></table></figure>
<h4 id="打印流复制文本文件"><a href="#打印流复制文本文件" class="headerlink" title="打印流复制文本文件"></a>打印流复制文本文件</h4><pre><code>* 打印流只负责写
</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">function_3</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</div><div class="line">	BufferedReader bfr = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"d:\\a.txt"</span>));</div><div class="line">	PrintWriter pw = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> FileWriter(<span class="string">"d:\\b.txt"</span>),<span class="keyword">true</span>);</div><div class="line">	String line = <span class="string">""</span>;</div><div class="line">	<span class="keyword">while</span>((line = bfr.readLine()) != <span class="keyword">null</span>)&#123;</div><div class="line">		pw.println(line);</div><div class="line">	&#125;</div><div class="line">	pw.close();</div><div class="line">	bfr.close();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="第三方jar包"><a href="#第三方jar包" class="headerlink" title="第三方jar包"></a>第三方jar包</h3><h4 id="commons-io工具类"><a href="#commons-io工具类" class="headerlink" title="commons-io工具类"></a>commons-io工具类</h4><h5 id="FilenameUtils工具类"><a href="#FilenameUtils工具类" class="headerlink" title="FilenameUtils工具类"></a>FilenameUtils工具类</h5><pre><code>* 常用方法:
    1. static String getExtension(String filename): 获取文件扩展名
    2. static String getName(String filename): 获取文件名
    3. static boolean isExtension(String filename, String extension): 
        判断文件名的后缀是不是extension, 区分大小写
</code></pre><h5 id="FileUtils工具类"><a href="#FileUtils工具类" class="headerlink" title="FileUtils工具类"></a>FileUtils工具类</h5><pre><code>* 常用方法:
    1. static String readFileToString(File file): 读取文件内容，并返回一个String
    2. static void writeStringToFile(File file，String content): 将内容content写入到file中
    3. static void copyDirectoryToDirectory(File srcDir,File destDir): 文件夹复制
    4. static void copyFile(File srcFile,File destFile): 文件复制
</code></pre>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JAVA基础语法/" rel="tag">#JAVA基础语法</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/02/18/15-异常/" rel="next" title="异常">
                <i class="fa fa-chevron-left"></i> 异常
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/02/25/17-多线程/" rel="prev" title="多线程">
                多线程 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2017/02/20/16-IO流/"
           data-title="IO流" data-url="https://geekhoon.github.io/2017/02/20/16-IO流/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="geekhoon" />
          <p class="site-author-name" itemprop="name">geekhoon</p>
          <p class="site-description motion-element" itemprop="description">技术博客</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">29</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/geekhoon" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/hlc1018" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        
          <div class="cc-license motion-element" itemprop="license">
            <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
              <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
            </a>
          </div>
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              技术大牛
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.devtang.com" title="唐巧" target="_blank">唐巧</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.onevcat.com" title="喵神" target="_blank">喵神</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.jianshu.com/users/b82d2721ba07/latest_articles" title="叶孤城" target="_blank">叶孤城</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://tutuge.me" title="土土哥" target="_blank">土土哥</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.sunnyxx.com" title="sunny" target="_blank">sunny</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://blog.ibireme.com" title="lbireme" target="_blank">lbireme</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://kittenyang.com" title="kittenyang" target="_blank">kittenyang</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#File类"><span class="nav-number">1.</span> <span class="nav-text">File类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概述"><span class="nav-number">1.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#成员变量"><span class="nav-number">1.2.</span> <span class="nav-text">成员变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#构造方法"><span class="nav-number">1.3.</span> <span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#绝对路径与相对路径"><span class="nav-number">1.4.</span> <span class="nav-text">绝对路径与相对路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#File类的功能"><span class="nav-number">1.5.</span> <span class="nav-text">File类的功能</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-创建功能"><span class="nav-number">1.5.1.</span> <span class="nav-text">1.创建功能</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-删除功能"><span class="nav-number">1.5.2.</span> <span class="nav-text">2.删除功能</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-获取功能"><span class="nav-number">1.5.3.</span> <span class="nav-text">3.获取功能</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-判断功能"><span class="nav-number">1.5.4.</span> <span class="nav-text">4.判断功能</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#文件过滤器"><span class="nav-number">1.6.</span> <span class="nav-text">文件过滤器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#遍历目录下的所有java文件"><span class="nav-number">1.7.</span> <span class="nav-text">遍历目录下的所有java文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#递归"><span class="nav-number">2.</span> <span class="nav-text">递归</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#递归遍历全目录"><span class="nav-number">2.1.</span> <span class="nav-text">递归遍历全目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#概念和注意事项"><span class="nav-number">2.2.</span> <span class="nav-text">概念和注意事项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#斐波那契数列"><span class="nav-number">2.3.</span> <span class="nav-text">斐波那契数列</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字节流"><span class="nav-number">3.</span> <span class="nav-text">字节流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#字节输出流"><span class="nav-number">3.1.</span> <span class="nav-text">字节输出流</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#方法"><span class="nav-number">3.1.1.</span> <span class="nav-text">方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FileOutputStream类"><span class="nav-number">3.1.2.</span> <span class="nav-text">FileOutputStream类</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字节输入流"><span class="nav-number">3.2.</span> <span class="nav-text">字节输入流</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#方法-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FileInputStream类"><span class="nav-number">3.2.2.</span> <span class="nav-text">FileInputStream类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#字节输入流FileInputStream读取字节数组"><span class="nav-number">3.2.3.</span> <span class="nav-text">字节输入流FileInputStream读取字节数组</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字节流复制文件读取"><span class="nav-number">3.3.</span> <span class="nav-text">字节流复制文件读取</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符流"><span class="nav-number">4.</span> <span class="nav-text">字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#字符输出流"><span class="nav-number">4.1.</span> <span class="nav-text">字符输出流</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#方法-2"><span class="nav-number">4.1.1.</span> <span class="nav-text">方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FileWriter类"><span class="nav-number">4.1.2.</span> <span class="nav-text">FileWriter类</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字符输入流"><span class="nav-number">4.2.</span> <span class="nav-text">字符输入流</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#方法-3"><span class="nav-number">4.2.1.</span> <span class="nav-text">方法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FileReader类"><span class="nav-number">4.2.2.</span> <span class="nav-text">FileReader类</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#转换流"><span class="nav-number">5.</span> <span class="nav-text">转换流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#字符转字节的过程"><span class="nav-number">5.1.</span> <span class="nav-text">字符转字节的过程</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#构造方法-1"><span class="nav-number">5.1.1.</span> <span class="nav-text">构造方法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字节转字符的过程"><span class="nav-number">5.2.</span> <span class="nav-text">字节转字符的过程</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#构造方法-2"><span class="nav-number">5.2.1.</span> <span class="nav-text">构造方法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#转换流和子类区别"><span class="nav-number">5.3.</span> <span class="nav-text">转换流和子类区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#缓冲流"><span class="nav-number">6.</span> <span class="nav-text">缓冲流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#字节缓冲流"><span class="nav-number">6.1.</span> <span class="nav-text">字节缓冲流</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#四种文件复制效率分析"><span class="nav-number">6.2.</span> <span class="nav-text">四种文件复制效率分析</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#字节流读写单个字节"><span class="nav-number">6.2.1.</span> <span class="nav-text">字节流读写单个字节</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#字节流读写字节数组"><span class="nav-number">6.2.2.</span> <span class="nav-text">字节流读写字节数组</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#字节流缓冲区流读写单个字节"><span class="nav-number">6.2.3.</span> <span class="nav-text">字节流缓冲区流读写单个字节</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#字节流缓冲区流读写字节数组"><span class="nav-number">6.2.4.</span> <span class="nav-text">字节流缓冲区流读写字节数组</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字符缓冲流"><span class="nav-number">6.3.</span> <span class="nav-text">字符缓冲流</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#使用字符缓冲流对象-复制文本文件"><span class="nav-number">6.3.1.</span> <span class="nav-text">使用字符缓冲流对象,复制文本文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IO流对象的操作规律"><span class="nav-number">7.</span> <span class="nav-text">IO流对象的操作规律</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#IO流相关类继承关系"><span class="nav-number">7.1.</span> <span class="nav-text">IO流相关类继承关系</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#操作规律"><span class="nav-number">7.2.</span> <span class="nav-text">操作规律</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Properties集合类"><span class="nav-number">8.</span> <span class="nav-text">Properties集合类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#特点"><span class="nav-number">8.1.</span> <span class="nav-text">特点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#存储键值对"><span class="nav-number">8.2.</span> <span class="nav-text">存储键值对</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#特有方法"><span class="nav-number">8.3.</span> <span class="nav-text">特有方法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#load"><span class="nav-number">8.3.1.</span> <span class="nav-text">load</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#store"><span class="nav-number">8.3.2.</span> <span class="nav-text">store</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象操作流"><span class="nav-number">9.</span> <span class="nav-text">对象操作流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#对象的序列化与反序列化"><span class="nav-number">9.1.</span> <span class="nav-text">对象的序列化与反序列化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ObjectOutputStream流写对象"><span class="nav-number">9.2.</span> <span class="nav-text">ObjectOutputStream流写对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ObjectInputStream流读取对象"><span class="nav-number">9.3.</span> <span class="nav-text">ObjectInputStream流读取对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#静态不能序列化"><span class="nav-number">9.4.</span> <span class="nav-text">静态不能序列化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#transient关键字"><span class="nav-number">9.5.</span> <span class="nav-text">transient关键字</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Serializable接口的含义"><span class="nav-number">9.6.</span> <span class="nav-text">Serializable接口的含义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#序列化中的序列号冲突问题"><span class="nav-number">9.7.</span> <span class="nav-text">序列化中的序列号冲突问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#序列化中自定义的序列号"><span class="nav-number">9.8.</span> <span class="nav-text">序列化中自定义的序列号</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打印流"><span class="nav-number">10.</span> <span class="nav-text">打印流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#概述-1"><span class="nav-number">10.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#打印流输出目的是File对象"><span class="nav-number">10.2.</span> <span class="nav-text">打印流输出目的是File对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#输出语句是char数组"><span class="nav-number">10.3.</span> <span class="nav-text">输出语句是char数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#打印流输出目的是String文件名和流对象"><span class="nav-number">10.4.</span> <span class="nav-text">打印流输出目的是String文件名和流对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#打印流开启自动刷新"><span class="nav-number">10.5.</span> <span class="nav-text">打印流开启自动刷新</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#打印流复制文本文件"><span class="nav-number">10.6.</span> <span class="nav-text">打印流复制文本文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第三方jar包"><span class="nav-number">11.</span> <span class="nav-text">第三方jar包</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#commons-io工具类"><span class="nav-number">11.1.</span> <span class="nav-text">commons-io工具类</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#FilenameUtils工具类"><span class="nav-number">11.1.1.</span> <span class="nav-text">FilenameUtils工具类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FileUtils工具类"><span class="nav-number">11.1.2.</span> <span class="nav-text">FileUtils工具类</span></a></li></ol></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">geekhoon</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"hou912115764"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementById('footer')
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("zFAH2d3IYRTUyQcRt5OsVBXQ-gzGzoHsz", "ziVrxCvGd6X65NWAtcpbi5Ng");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

</body>
</html>
